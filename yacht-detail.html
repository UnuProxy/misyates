<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yacht Details</title>
    <link rel="icon" type="image/png" href="LogoYZsmall.png">
    <meta property="og:type" content="website">
    <link rel="stylesheet" href="azure.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <meta name="robots" content="noindex, nofollow">
    <style>
      #calendar-container {
          width: 100%;
          max-width: 800px;
          margin: 20px auto;
          border-radius: 10px;
          overflow: hidden;
          position: relative;
      }

      #calendar-iframe {
          width: 100%;
          height: 500px;
          border: none;
      }

      .hide-footer {
          position: absolute;
          bottom: 0;
          left: 0;
          width: 100%;
          height: 30px;
          z-index: 1;
      }

      .calendar-nav {
          display: flex;
          justify-content: space-between;
          margin-bottom: 10px;
      }
      .calendar {
    display: flex;
    justify-content: center;
    padding: 40px;
    margin-top: 40px;
    color: #fff;
}
.return-link {
    position: absolute;
    top: 10px;
    left: 10px;
    background-color: #f8f9fa;
    padding: 10px 15px;
    border-radius: 5px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.return-link a {
    text-decoration: none;
    background-color: transparent;
    color: #0B3355;
    font-weight: bold;
    display: flex;
    align-items: center;
}

.return-link a:hover {
    transform: translateX(-2px);
}

.chevron-left {
    font-size: 18px;
    margin-right: 5px;
    background-color: transparent;
    transform: translateY(-2px);
}
  </style>
</head>
<body>
   <div class="return-link">
        <a href="/">
            <span class="chevron-left">&lt;</span> Return to all yachts
        </a>
    </div>
    <!--  YACHT DETAIL  -->
  <div class="yacht-detail">
  <img class="main-image" alt="Main Yacht Image">
  <h1 class="yacht-name"></h1>
  <div class="navigation-row">
    <a href="#about" id="aboutLink">About</a>
    <a href="#key-info">Specifications</a>
    <a href="#interior">Images</a>
    <a href="#price">Price</a>
    <div id="enquire-now-container">
      <a href="#" id="enquire-now-btn">Enquiry Now</a>
  </div>
  </div>
  <div id="enquire-modal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Enquire availability of this yacht</h2>
        <form id="enquiry-form">
            <!-- Concierge/Receptionist Information -->
            <input type="text" id="concierge-name" name="concierge-name" placeholder="Your Name (Concierge/Receptionist)" required>
            <input type="email" id="concierge-email" name="concierge-email" placeholder="Your Email" required>
            <input type="tel" id="concierge-phone" name="concierge-phone" placeholder="Your Phone Number" required>

            <!-- Hotel Information -->
            <input type="text" id="hotel-name" name="hotel-name" placeholder="Hotel Name" required>
            
            <p class="start-date-header">Please select below your client's preferred charter dates</p>
            <label for="start-date">Start Date:</label>
            <input type="date" id="start-date" name="start-date" required>
            <label for="end-date">End Date:</label>
            <input type="date" id="end-date" name="end-date" required>
            
            <textarea id="message" name="message" placeholder="Additional Notes/Special Requests" required></textarea>
            <input type="hidden" id="yacht-name" name="yachtName">
            
            <button type="submit">Submit</button>
        </form>
    </div>
</div>


  
  
</div>
    <div id="about" class="yacht-description">
      
      <p class="description-text"></p>
    </div>

    <div class="title-container">
      <h2 class="section-title"><span></span>The Yacht</h2>
    </div>
    <div id="yachtsContainer">
   
      <div class="swipe-indicator">Swipe &gt;&gt;</div>
    </div>

    <div id="interior" class="yacht-carousel interior-carousel"> 
    </div>
    
    <div id="key-info" class="yacht-specs">
      <h2>Main Specifications</h2>
      <ul class="detailed-specs">
      </ul>
    </div>

    <div id="text-image-container">
    </div>
    
    <div id="extras-section">
      <h2>On board</h2>
      <ul id="extras-list">  
      </ul>
    </div>
  
      <div id="price" class="yacht-price">
        <h2> Rate From </h2>
        <p class="price-text"></p>
      </div>
      <!-- Add this div for the calendar -->
      <h2 class="calendar">Boats availability</h2>
      <div id="calendar-container">
        <div class="calendar-nav">
            <button id="prev-month">Previous Month</button>
            <select id="month-select">
                <option value="0">January</option>
                <option value="1">February</option>
                <option value="2">March</option>
                <option value="3">April</option>
                <option value="4">May</option>
                <option value="5">June</option>
                <option value="6">July</option>
                <option value="7">August</option>
                <option value="8">September</option>
                <option value="9">October</option>
                <option value="10">November</option>
                <option value="11">December</option>
            </select>
            <button id="next-month">Next Month</button>
        </div>
        <iframe id="calendar-iframe" style="border: 0" width="800" height="600" frameborder="0" scrolling="no"></iframe>
        <div class="hide-footer"></div>
    </div>
    </div>
    <h2 class="carousel-title">Browse Similar Yachts</h2>
    <div id="carousel-wrapper">
        <button class="carousel-btn" id="prev-btn" onclick="move(-1)">❮</button>
        <div id="carousel">
          <div id="carousel-container">
            <div class="carousel-item">1</div>
            <div class="carousel-item">2</div>
            <div class="carousel-item">3</div>
            <div class="carousel-item">4</div>
            <div class="carousel-item">5</div>
          </div>
        </div>
        <button class="carousel-btn" id="next-btn" onclick="move(1)">❯</button>
      </div>
      <script>
       document.addEventListener("DOMContentLoaded", function() {
    var yachtData = [];
    var currentMonth = new Date().getMonth();
    var currentYear = new Date().getFullYear();

    fetch('yachts.json')
        .then(response => response.json())
        .then(data => {
            yachtData = data;
            populateYachtDetails();
        });

    function getYachtById(yachtId) {
        return yachtData.find(yacht => yacht.id === parseInt(yachtId, 10));
    }

    function updateCalendarUrl(calendarId, year, month) {
        const baseUrl = `${calendarId}&showTitle=0&showNav=1&showDate=0&showPrint=0&showTabs=0&showCalendars=0&showTz=0`;
        const date = new Date(year, month);
        const formattedDate = `${date.getFullYear()}${('0' + (date.getMonth() + 1)).slice(-2)}01`;
        return `${baseUrl}&dates=${formattedDate}/${formattedDate}`;
    }

    function navigateMonth(offset) {
        currentMonth += offset;
        if (currentMonth < 0) {
            currentMonth = 11;
            currentYear--;
        } else if (currentMonth > 11) {
            currentMonth = 0;
            currentYear++;
        }
        const yachtId = new URLSearchParams(window.location.search).get('id');
        const yacht = getYachtById(yachtId);
        if (yacht && yacht.calendarId) {
            const newUrl = updateCalendarUrl(yacht.calendarId, currentYear, currentMonth);
            document.getElementById('calendar-iframe').src = newUrl;
            document.getElementById('month-select').value = currentMonth;
        }
    }

    function selectMonth(month) {
        currentMonth = parseInt(month);
        const yachtId = new URLSearchParams(window.location.search).get('id');
        const yacht = getYachtById(yachtId);
        if (yacht && yacht.calendarId) {
            const newUrl = updateCalendarUrl(yacht.calendarId, currentYear, currentMonth);
            document.getElementById('calendar-iframe').src = newUrl;
        }
    }

    function populateYachtDetails() {
        const yachtId = new URLSearchParams(window.location.search).get('id');
        const yacht = getYachtById(yachtId);

        if (yacht) {
            document.querySelector('.main-image').src = yacht.image;
            document.querySelector('.main-image').alt = yacht.name;
            document.querySelector('.yacht-name').textContent = yacht.name;
            document.querySelector('.description-text').textContent = yacht.description;
            document.querySelector('.price-text').textContent = yacht.price;

            if (yacht.calendarId) {
                const initialUrl = updateCalendarUrl(yacht.calendarId, currentYear, currentMonth);
                document.getElementById('calendar-iframe').src = initialUrl;
                document.getElementById('calendar-container').style.display = 'block';
            } else {
                document.getElementById('calendar-container').style.display = 'none';
            }
        } else {
            console.error('Yacht not found');
        }
    }

    $('#enquire-now-btn').on('click', function(e) {
        e.preventDefault();
        const yachtId = new URLSearchParams(window.location.search).get('id');
        const yacht = getYachtById(yachtId);
        $('#yacht-name').val(yacht.name);
        $('#enquire-modal').show();
    });

    $('.close').on('click', function() {
        $('#enquire-modal').hide();
    });

    $(window).on('click', function(e) {
        if ($(e.target).is('#enquire-modal')) {
            $('#enquire-modal').hide();
        }
    });

    $('#enquiry-form').submit(function(e) {
        e.preventDefault();
        const formData = {
            conciergeName: $('#concierge-name').val(),
            conciergeEmail: $('#concierge-email').val(),
            conciergePhone: $('#concierge-phone').val(),
            hotelName: $('#hotel-name').val(),
            startDate: $('#start-date').val(),
            endDate: $('#end-date').val(),
            message: $('#message').val(),
            yachtName: $('#yacht-name').val()
        };

        $.ajax({
            url: 'https://usebasin.com/f/5901228062f3',
            method: 'POST',
            data: formData,
            dataType: 'json',
            success: function(data) {
                alert('Thank you for your enquiry!');
                $('#enquiry-form').trigger("reset");
                $('#enquire-modal').hide();
            },
            error: function(err) {
                alert('Something went wrong, please try again.');
            }
        });
    });

    document.getElementById('prev-month').addEventListener('click', function() {
        navigateMonth(-1);
    });

    document.getElementById('next-month').addEventListener('click', function() {
        navigateMonth(1);
    });

    document.getElementById('month-select').addEventListener('change', function() {
        selectMonth(this.value);
    });
    document.getElementById('month-select').value = currentMonth;
});
    </script>
    
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="text_images.js" defer></script>
<script src="extras.js" defer></script>
<script src="yachtdetails.js" defer></script>
<script src="yacht.js" defer></script>
<script src="script.js" defer></script>

<script>
      $(document).ready(function() {
    var yachtData = [];

    fetch('yachts.json')
        .then(response => response.json())
        .then(data => {
            yachtData = data;
        });
    function getYachtNameById(yachtId) {
        const yacht = yachtData.find(yacht => yacht.id === parseInt(yachtId, 10));
        return yacht ? yacht.name : '';
    }
    $('#enquire-now-btn').on('click', function(e) {
        e.preventDefault(); 
        var yachtId = new URLSearchParams(window.location.search).get('id');
        var yachtName = getYachtNameById(yachtId); 
        $('#yacht-name').val(yachtName); 
        $('#enquire-modal').show(); 
    });
    $('.close').on('click', function() {
        $('#enquire-modal').hide(); 
    });
    $(window).on('click', function(e) {
        if ($(e.target).is('#enquire-modal')) {
            $('#enquire-modal').hide(); 
        }
    });
    $('#enquiry-form').submit(function(e) {
    e.preventDefault();
    var formData = {
        name: $('#name').val(),
        email: $('#email').val(),
        phone: $('#phone').val(),
        startDate: $('#start-date').val(),
        endDate: $('#end-date').val(),
        message: $('#message').val(),
        yachtName: $('#yacht-name').val(),
        policyAgreement: $('#newPolicyAgreement').is(':checked') 
    };
        $.ajax({
            url: 'https://usebasin.com/f/5901228062f3',
            method: 'POST',
            data: formData,
            dataType: 'json',
            success: function(data) {
                alert('Thank you for your enquiry!');
                $('#enquiry-form').trigger("reset");
                $('#enquire-modal').hide();
            },
            error: function(err) {
                alert('Something went wrong, please try again.');
            }
        });
    });
});
</script>
<script>
  function showDataPolicyOverview() {
    document.getElementById('dataPolicyOverview').style.display = 'block';
}
function closeDataPolicyOverview() {
    document.getElementById('dataPolicyOverview').style.display = 'none';
}
</script>

</body>
</html>